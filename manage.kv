#:import FadeTransition kivy.uix.screenmanager.FadeTransition

#Global Variable
<CustLabel@Label>:
    color: 0, 0, 0, 1
    font_size: 36
    bold: True


ScreenManagement:
    transition: FadeTransition()
    HomePage:
    LoginScreen:
    NewUser:
<HomePage>:
    name: "homepage"
    orientation: "vertical"
    padding: 10
    spacing: 20

    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: (255, 255, 255)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint_y: 0.2
            orientation: "horizontal"
            height: 30
            CustLabel:
                id: header
                text: "Welcome to EbayMazon"
                size_hint_x: 1

        # ------------- First Line ------------#

        BoxLayout:
            size_hint_y: 0.05
            orientation: "horizontal"
            height: 30
            spacing: 10
#            canvas.before:
#                Color:
#                    rgb: (0,0,0)
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
            Image:
                size_hint_x: 0.2
                source: "logo.png"
                size: self.parent.size
                allow_stretch: True

            TextInput:
                id: search_id
                size_hint_x: 0.3
                multiline: False
                on_hint_text: "Search Keyword"
                on_text_validate: root.searchKeyword(search_id.text)

            Button:
                size_hint_x: 0.05
                background_color: 255, 255, 255, 1
                Image:
                    source: "search.png"
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    allow_stretch: True
            Spinner:
                id: sort_id
                size_hint_x: 0.15
                background_color: 0, 100, 255, 0.5
                text: "Price: Low to High"
                color: 0, 0, 0, 1
                values: ["Price: Low to High", "Price: High to Low","User Rating"]
                on_text: root.sort_feature(sort_id.text)

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "Login"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "login"

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "New User"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "newUser"

        BoxLayout:
            size_hint_y: 0.7
            orientation: "horizontal"
            height: 30
            CustLabel:
                text: "Welcome to EbayMazon 2"
                size_hint_x: .80

<LoginScreen>:
    name: "login"
    title: 'Login'
    size: (200,200)

    FloatLayout:
        canvas:
            Color:
                rgb: 1, 1, 3
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            rows: 3
            cols: 2
            padding: 10
            spacing: 10

            CustLabel:
                text: 'User Name'

            TextInput:
                id: username
                multiline: False
            CustLabel:
                text: 'Password'
            TextInput:
                id: password
                multiline: False

            Button:
                text: 'Login'
                on_press:
                    root.checkLogin(username.text,password.text)
                    root.manager.current = "homepage"
            Button:
                text: 'Clear Entry'
                on_press: username.text =""
                on_press: password.text =""



<NewUser>:
    name: "newUser"
    title: "The New User"
    BoxLayout:
        size_hint_y: 0.7
        orientation: "horizontal"
        height: 30
        Button:
            text: "Close"
            on_press: root.manager.current = "homepage"