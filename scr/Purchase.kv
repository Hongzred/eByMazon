<FixedPurchase>:
    singlePrice: 0
    numberBuy: 0
    tax:0
    vip: 0
    friend: 0
    finalPrice: 0
    purchased: False
#    BoxLayout:
#    size_hint: (0.3,0.5)
    ScreenManager:
        id: purchaseManager
        Screen:
            name: "empty"
            BoldLabel:
                text: "You have purchased the item \nWith total price %s" %str(root.finalPrice)
                opacity: 1 if root.purchased else 0
        Screen:
            name: "cancel"
            BoldLabel:
                text: "You have cancel the purchase"
        Screen:
            name: "Purchase"
            BoxLayout:
                orientation: "vertical"
                GridLayout:
                    size_hint: (0.8,0.6)
                    cols: 2
                    RightLabel:
                        text:"Item Price:"
                    RightLabel:
                        text:str(root.singlePrice)
                    RightLabel:
                        text:"Item Quantity:"
                    RightLabel:
                        text:str(root.numberBuy)
                    RightLabel:
                        text:"Price before tax & discount:"
                    RightLabel:
                        text:str(root.singlePrice*root.numberBuy)
                    RightLabel:
                        text:"Tax Collect:"
                    RightLabel:
                        text:'+' + str(root.tax)
                    RightLabel:
                        text:"VIP Discount:" if root.vip != 0 else ""
                    RightLabel:
                        text: '-' +str(root.vip) if root.vip != 0 else ""
                    RightLabel:
                        text:"Friend Discount:" if root.friend != 0 else ""
                    RightLabel:
                        text: '-' +str(root.friend) if root.friend != 0 else ""
                    RightLabel:
                        text:"Final Price:"
                    RightLabel:
                        text: str(root.finalPrice)
                BoxLayout:
                    orientation: "horizontal"
                    size_hint_y: 0.2
                    SkyBlueButton:
                        size_hint: (0.3,0.30)
                        text: "Confirm Purchase"
                        on_press: root.purchasing()
                    OrangeButton:
                        size_hint: (0.3,0.30)
                        text: "Cancel Purchase"
                        on_press: root.ids["purchaseManager"].current = "cancel"