#:import FadeTransition kivy.uix.screenmanager.FadeTransition

#Global Variable
<CustLabel@Label>:
    color: 0, 0, 0, 1
    font_size: 36
    bold: True


ScreenManagement:
    transition: FadeTransition()
    HomePage:
    LoginScreen:
    signUp:
<HomePage>:
    name: "homepage"
    orientation: "vertical"
    padding: 10
    spacing: 20

    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: (255, 255, 255)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint_y: 0.2
            orientation: "horizontal"
            height: 30
            CustLabel:
                id: header
                text: "Welcome to EbayMazon"
                size_hint_x: 1

        # ------------- First Line ------------#

        BoxLayout:
            size_hint_y: 0.05
            orientation: "horizontal"
            height: 30
            spacing: 10
#            canvas.before:
#                Color:
#                    rgb: (0,0,0)
#                Rectangle:
#                    pos: self.pos
#                    size: self.size
            Image:
                size_hint_x: 0.2
                source: "logo.png"
                size: self.parent.size
                allow_stretch: True

            TextInput:
                id: search_id
                size_hint_x: 0.3
                multiline: False
                on_hint_text: "Search Keyword"
                on_text_validate: root.searchKeyword(search_id.text)

            Button:
                size_hint_x: 0.05
                background_color: 255, 255, 255, 1
                Image:
                    source: "search.png"
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    allow_stretch: True
            Spinner:
                id: sort_id
                size_hint_x: 0.15
                background_color: 0, 100, 255, 0.5
                text: "Price: Low to High"
                color: 0, 0, 0, 1
                values: ["Price: Low to High", "Price: High to Low","User Rating"]
                on_text: root.sort_feature(sort_id.text)

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "Login"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "login"

            Button:
                size_hint_x: 0.1
                background_color: 0, 100, 255, 0.5
                text: "Sign Up"
                color: 0, 0, 0, 1
                on_press:
                    root.manager.current = "signUp"

        BoxLayout:
            size_hint_y: 0.7
            orientation: "horizontal"
            height: 30
            CustLabel:
                text: "Welcome to EbayMazon 2"
                size_hint_x: .80

<LoginScreen>:
    name: "login"
    title: 'Login'

    BoxLayout:
        orientation: "vertical"
        spacing:10
        padding:10

        BoxLayout:
            size_hint_y: 0.5
            orientation: "vertical"
            padding: [0, 150, 0, 0]
            BoxLayout:
                CustLabel:
                    text: "User Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: username

        BoxLayout:
            size_hint_y: 0.27
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Password"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: password

        BoxLayout:
            padding: [350, 100, 350, 450]
            GridLayout:
                rows: 1
                cols: 2
                Button:
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.55, 2.04, 2.55, 0.7]
                    text: "Login"
                    on_press:
                        root.checkLogin(username.text,password.text)
                        root.manager.current = "homepage"

                Button:
                    color: [0, 0, 0, 1]
                    font_size: 33
                    background_color: [2.04, 2.30, 2.55, 1]
                    text_color:
                    text: "Clear"
                    on_press: username.text =""
                    on_press: password.text =""



<signUp>:
    name: "signUp"
    title: "The New User"
    BoxLayout:
        orientation: "vertical"
        spacing:10
        padding:10

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "First Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: firstName

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Last Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: lastName

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "Email"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: email

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            BoxLayout:
                CustLabel:
                    text: "User Name"
            BoxLayout:
                size_hint_x: 0.3
                pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                TextInput:
                    id: username

        BoxLayout:
            padding: [0, 150, 0, 0]
            GridLayout:
                rows: 1
                cols: 2

                Button:
                    text: "Sign Up"
                    on_press: root.manager.current = "homepage"

                Button:
                    text: "Clear"
                    on_press: firstName.text =""
                    on_press: lastName.text =""
                    on_press: email.text =""
                    on_press: username.text =""

