#:include Purchase.kv
<fixedItem>:
    itemIndex: -1
    user: False
    purchased: False
    disableAction: True
    BoxLayout:
        orientation: "vertical"
        pos_hint: {'center_y': 0.5, 'center_x': 0.5}
        BoxLayout:
#                    size_hint: (0.8,0.5)
            orientation: "horizontal"
            padding:[50,0,50,0]
#                    height: 50
            Image:
                id: itemImage
                size_hint:(0.5,1)
#                        source: "logo3.png"
                y: self.parent.y
                x: self.parent.x
                size: self.parent.size
                allow_stretch: True

            GridLayout:
                cols: 2
                size_hint:(0.5,1)
                orientation: "vertical"

                LeftLabel:
                    text: "Title: "
                LeftLabel:
                    id: itemTitle
                LeftLabel:
                    text: "Description: "
                LeftLabel:
                    id: itemDescription
                LeftLabel:
                    text: "Price: "
                LeftLabel:
                    id: itemPrice
                LeftLabel:
                    text: "Number Available: "
                LeftLabel:
                    id: itemAvailable
                LeftLabel:
                    text: "Likes: "
                LeftLabel:
                    id: itemLike
                LeftLabel:
                    text: "DisLike: "
                LeftLabel:
                    id: itemDislike
        # ------------- top half ------------#

        BoxLayout:
            size_hint_y: 0.3
            orientation: 'horizontal'
            spacing: 40
            Button:
                size_hint_x: 0.3
                background_color: 255, 255, 255, 1
                disabled: 1 if root.user else 0
                on_press: root.likeItem("fixedItem")
#                on_press: self.background_color = 100,100,100,1
                Image:
                    source: "images/likeButton.png"
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    allow_stretch: True
            Button:
                size_hint_x: 0.3
                background_color: 255, 255, 255, 1
                disabled: 1 if root.user else 0
#                on_press: self.background_color = 100,100,100,1
                on_press: root.dislikeItem("fixedItem")
                Image:
                    source: "images/dislikeButton.png"
                    y: self.parent.y
                    x: self.parent.x
                    size: self.parent.size
                    allow_stretch: True
            Label:
                size_hint_x: 0.5
            LeftLabel:
                font_size: 36
                text: 'Enter number of item you want buy: '
            ProfileInput:
                size_hint: (0.2,0.5)
                id: purchaseInfo
                text_size: self.size
                disabled: 1 if root.disableAction else 0

            SkyBlueButton:
                size_hint: (0.2,0.5)
                text: "Purchase"
                on_press: root.toPurchase()
                disabled: 1 if root.disableAction else 0
        BoxLayout:
            height: 30
            orientation: 'horizontal'
            BoxLayout:
                orientation: 'vertical'
                size_hint:(0.3,1)
                LeftLabel:
                    text: "Ratings:"
                    font_size: 48
                    bold: True
                GridLayout:
                    cols: 2
                    row_force_default: True
                    row_default_height: 50
                    padding: 20
                    spacing: 10
                    LeftLabel:
                        text: "username"
                        size_hint_x: .2
                    LeftLabel:
                        id: text_input
                        markup: True
                        text: 'this is my comment'
                        font_size: 32
                        size_hint: 1.8, .1
                    LeftLabel:
                        text: "username"
                        size_hint_x: .2

                    LeftLabel:
                        id: text_input
                        markup: True
                        text: 'this is my comment'
                        font_size: 32
                        size_hint: 1.8, .1
                    LeftLabel:
                        text: "username"
                        size_hint_x: .2

                    LeftLabel:
                        id: text_input
                        markup: True
                        text: 'this is my comment'
                        font_size: 32
                        size_hint: 1.8, .1
            BoxLayout:
                orientation: "vertical"
                size_hint: (0.7,1)
                FixedPurchase:
                    id: purchase
                    size_hint_y: 0.9
                BoxLayout:
                    orientation: "horizontal"
                    size_hint: (0.5,0.2)
                    pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                    opacity: 1 if root.purchased else 0
                    SkyBlueButton:
                        size_hint: (0.3,0.90)
                        text: "Confirm Purchase"
                        on_press: root.purchasing()
                    OrangeButton:
                        size_hint: (0.3,0.90)
                        text: "Cancel Purchase"
                        on_press: root.cancelPurchase()

        GrayButton:
            text: 'GO BACK'
            size_hint_y: .1
            on_press: root.tohome()


